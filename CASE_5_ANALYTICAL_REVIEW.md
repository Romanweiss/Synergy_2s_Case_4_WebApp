# Кейс-задача № 5
## Аналитический обзор проделанной работы по кейс-задаче № 4
### WEB-приложение «Туризм» (Python + FastAPI + PostgreSQL)

## 1. Цель аналитического обзора
Цель данного обзора — проанализировать выполненную кейс-задачу № 4 («WEB-приложение Туризм») по набору ключевых критериев качества программного продукта и предложить способы устранения выявленных проблем.

## 2. Краткое описание выполненной кейс-задачи № 4
В рамках кейса № 4 реализовано WEB-приложение в архитектуре клиент-сервер:
- backend: FastAPI;
- база данных: PostgreSQL;
- взаимодействие: REST API;
- контейнеризация: Docker Compose.

Бизнес-сущности:
- `tours` — перечень туров;
- `services` — перечень дополнительных услуг;
- `orders` — заявки клиентов.

Ключевые маршруты:
- `GET /health`
- `GET /tours`
- `GET /services`
- `POST /orders`
- `GET /orders`

## 3. Оценка по критериям

### 3.1 Функциональность
Оценка: **4/5**

Что реализовано хорошо:
- корректно работают базовые сценарии: просмотр туров/услуг, создание и просмотр заявок;
- в `POST /orders` есть проверка существования и активности тура/услуги;
- структура БД соответствует предметной области учебного MVP.

Ограничения:
- нет расширенного жизненного цикла заявки (статусы, подтверждение, отмена, журнал изменений);
- нет бизнес-правил по пересечению дат, лимитам доступности и т.д.

### 3.2 Производительность
Оценка: **3/5**

Что реализовано хорошо:
- простая и быстрая структура запросов;
- добавлены индексы по ключевым полям в таблице заказов.

Ограничения:
- нет пагинации для списков (`/orders`, `/tours`, `/services`);
- нет профилирования и метрик времени ответа;
- нет кэширования для часто запрашиваемых справочников.

### 3.3 Удобство использования (юзабилити)
Оценка: **3/5**

Что реализовано хорошо:
- удобная интерактивная документация Swagger/ReDoc;
- понятный API для разработчиков и тестирования.

Ограничения:
- отсутствует пользовательский веб-интерфейс (frontend);
- сообщения об ошибках минимальные и не всегда бизнес-ориентированные.

### 3.4 Безопасность
Оценка: **2/5**

Что реализовано хорошо:
- базовая серверная валидация входных данных;
- использование параметризованных SQL-запросов через ORM.

Ограничения:
- отсутствуют аутентификация и авторизация;
- нет разграничения прав доступа к заявкам;
- нет ограничений частоты запросов (rate limiting).

### 3.5 Масштабируемость
Оценка: **4/5**

Что реализовано хорошо:
- модульная структура проекта (routers/models/schemas);
- контейнеризация позволяет разворачивать и масштабировать сервисы;
- разделение API и БД как независимых компонентов.

Ограничения:
- нет стратегии горизонтального масштабирования БД;
- нет очередей/фоновых задач для тяжелых операций.

### 3.6 Сопровождаемость
Оценка: **4/5**

Что реализовано хорошо:
- понятная структура проекта;
- документация запуска и использования присутствует;
- логическая декомпозиция слоев приложения.

Ограничения:
- отсутствуют миграции БД (Alembic);
- часть бизнес-логики сосредоточена в роутерах, без сервисного слоя.

### 3.7 Переносимость
Оценка: **5/5**

Что реализовано хорошо:
- проект запускается одинаково на разных ОС через Docker Compose;
- нет зависимости от конкретной платформы.

Ограничения:
- для запуска без Docker требуется ручная настройка окружения.

### 3.8 Качество кода
Оценка: **4/5**

Что реализовано хорошо:
- код читаемый, структурированный, с разделением ответственности;
- используются современные практики FastAPI + SQLAlchemy + Pydantic.

Ограничения:
- нет единых автоматизированных правил форматирования/линтинга в CI;
- есть потенциал вынести бизнес-логику из роутеров в сервисный слой.

### 3.9 Тестирование
Оценка: **2/5**

Что реализовано хорошо:
- проведена ручная проверка API через Swagger/curl.

Ограничения:
- отсутствуют автоматические unit/integration тесты;
- нет тестовой матрицы сценариев и регрессионной проверки.

## 4. Выявленные проблемы
1. Недостаточная безопасность (нет auth/rbac/rate-limit).
2. Отсутствие автоматизированного тестирования.
3. Недостаточная готовность к росту нагрузки (нет пагинации/кэша/метрик).
4. Нет миграций схемы БД.
5. Нет пользовательского frontend-интерфейса.

## 5. Способы решения выявленных проблем

### 5.1 Безопасность
- внедрить JWT-аутентификацию;
- добавить роли (admin/manager/user);
- ограничить доступ к просмотру/изменению заказов по ролям;
- добавить rate limiting и базовые security-заголовки.

### 5.2 Тестирование
- добавить `pytest` + `httpx/TestClient`;
- покрыть критические сценарии API (создание заказа, ошибки валидации, 404);
- настроить запуск тестов в CI.

### 5.3 Производительность
- добавить пагинацию (`limit`, `offset`) и фильтрацию;
- ввести метрики времени ответа и мониторинг;
- применить кэширование справочников туров/услуг при росте нагрузки.

### 5.4 Сопровождаемость и эволюция БД
- внедрить Alembic для миграций;
- выделить сервисный слой (`services/`) для бизнес-логики;
- закрепить код-стиль через линтер/форматтер.

### 5.5 Юзабилити и UI
- реализовать пользовательский web-интерфейс на React + TypeScript (страницы каталога туров, выбора услуг и оформления заявки);
- добавить визуальные статусы заявки, валидацию форм на клиенте и понятные уведомления об ошибках/успешных действиях;
- предусмотреть личный кабинет менеджера с фильтрацией и поиском по заявкам;
- как альтернативный путь для быстрого внутреннего решения рассмотреть Django (монолит с встроенной админ-панелью и шаблонами).

## 6. Приоритетный план улучшений
1. P1: Безопасность (auth + роли + ограничение доступа).
2. P1: Автотесты и CI.
3. P2: Пагинация/фильтры/мониторинг.
4. P2: Миграции БД и сервисный слой.
5. P3: Frontend и улучшение UX.

## 7. Итоговый вывод
Кейс-задача № 4 выполнена успешно: реализовано рабочее WEB-приложение по предметной области «Туризм» с REST API и PostgreSQL. По базовой функциональности проект соответствует учебной цели.

Анализ по критериям показал, что для перехода от учебного MVP к промышленному уровню необходимо усилить безопасность, покрыть проект автотестами, внедрить миграции БД, добавить полноценный пользовательский UI и улучшить эксплуатационные характеристики (пагинация, мониторинг, UX).
